<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>物联网操作系统AliOS Things 3.3: cJSON</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygenextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="topbanner"><a href="https://github.com/Tencent/rapidjson" title="RapidJSON GitHub"><i class="githublogo"></i></a></div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('cjson.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">cJSON </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md157"></a>
概述</h1>
<p>cJSON是符合ANSI C标准的极轻量级JSON解析器。</p>
<h2><a class="anchor" id="autotoc_md158"></a>
版权说明</h2>
<blockquote class="doxtable">
<p>Copyright (c) 2009 Dave Gamble</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md159"></a>
目录结构</h2>
<div class="fragment"><div class="line">├── src</div>
<div class="line">│   ├── cJSON.c         # 源文件（必需）</div>
<div class="line">│   └── cJPath.c        # 源文件（必需）</div>
<div class="line">├── include</div>
<div class="line">│   └── cJSON.h         # 包含cJSON API</div>
<div class="line">├── package.yaml        # 编译配置文件</div>
<div class="line">└── example</div>
<div class="line">    └── cjson_example.c # 示例代码（默认禁用，可在package.yaml中使能）</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md160"></a>
依赖组件</h2>
<ul>
<li>osal_aos</li>
</ul>
<h1><a class="anchor" id="autotoc_md161"></a>
常用配置</h1>
<p>无</p>
<h1><a class="anchor" id="autotoc_md162"></a>
API说明</h1>
<h2><a class="anchor" id="autotoc_md163"></a>
将字符串解析为JSON结构体</h2>
<div class="fragment"><div class="line">cJSON *cJSON_Parse(<span class="keyword">const</span> <span class="keywordtype">char</span> *value);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">value   </td><td class="markdownTableBodyLeft">JSON字符串   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md164"></a>
删除JSON结构体</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> cJSON_Delete(cJSON *c);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">value   </td><td class="markdownTableBodyLeft">待删除的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md165"></a>
获取JSON数组包含成员个数</h2>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> cJSON_GetArraySize(<span class="keyword">const</span> cJSON *array);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">value   </td><td class="markdownTableBodyLeft">数组类型的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md166"></a>
获取JSON数组成员</h2>
<div class="fragment"><div class="line">cJSON *cJSON_GetArrayItem(<span class="keyword">const</span> cJSON *array, <span class="keywordtype">int</span> index);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">array   </td><td class="markdownTableBodyLeft">数组类型的JSON结构体    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">index   </td><td class="markdownTableBodyLeft">数组成员索引   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md167"></a>
获取JSON对象成员</h2>
<div class="fragment"><div class="line">cJSON *cJSON_GetObjectItemCaseSensitive(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> <span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <span class="keywordtype">string</span>);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">object   </td><td class="markdownTableBodyLeft">对象类型的JSON结构体    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">string   </td><td class="markdownTableBodyLeft">成员名称（大小写敏感）   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md168"></a>
获取出错信息</h2>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *cJSON_GetErrorPtr(<span class="keywordtype">void</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md169"></a>
判断JSON结构体是否为布尔类型</h2>
<div class="fragment"><div class="line">cJSON_bool cJSON_IsBool(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> item);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">item   </td><td class="markdownTableBodyLeft">待判断的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md170"></a>
判断JSON结构体是否为数值类型</h2>
<div class="fragment"><div class="line">cJSON_bool cJSON_IsNumber(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> item);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">item   </td><td class="markdownTableBodyLeft">待判断的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md171"></a>
判断JSON结构体是否为字符串类型</h2>
<div class="fragment"><div class="line">cJSON_bool cJSON_IsString(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> item);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">item   </td><td class="markdownTableBodyLeft">待判断的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md172"></a>
判断JSON结构体是否为数组类型</h2>
<div class="fragment"><div class="line">cJSON_bool cJSON_IsArray(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> item);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">item   </td><td class="markdownTableBodyLeft">待判断的JSON结构体   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md173"></a>
判断JSON结构体是否为对象类型</h2>
<div class="fragment"><div class="line">cJSON_bool cJSON_IsObject(<span class="keyword">const</span> cJSON * <span class="keyword">const</span> item);</div>
</div><!-- fragment --> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">args   </th><th class="markdownTableHeadLeft">description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">item   </td><td class="markdownTableBodyLeft">待判断的JSON结构体   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md174"></a>
使用示例</h1>
<p>示例代码参考example/cjson_example.c，以运行helloworld_demo为例，具体步骤如下：</p>
<h2><a class="anchor" id="autotoc_md175"></a>
添加示例代码</h2>
<p>cjson组件的package.yaml中添加example </p><div class="fragment"><div class="line">source_file:</div>
<div class="line">  - &quot;src/*.c&quot;</div>
<div class="line">  - &quot;example/cjson_example.c&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md176"></a>
添加组件</h2>
<p>helloworld_demo组件的package.yaml中添加 </p><div class="fragment"><div class="line">depends:</div>
<div class="line">  - cjson: master</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md177"></a>
编译</h2>
<div class="fragment"><div class="line">cd solutions/helloworld_demo &amp;&amp; aos make</div>
</div><!-- fragment --><p> 其中具体单板还需要先配置环境： </p><div class="fragment"><div class="line">aos make helloworld_demo@haas100 -c config</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md178"></a>
烧录固件</h2>
<p>参考具体板子的快速开始文档。</p>
<h2><a class="anchor" id="autotoc_md179"></a>
示例测试</h2>
<p>CLI命令行输入： </p><div class="fragment"><div class="line">cjson_example</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md180"></a>
关键日志</h2>
<p>CLI日志： </p><div class="fragment"><div class="line">Checking monitor &quot;Awesome 4K&quot;</div>
<div class="line">1280 x 720.00</div>
<div class="line">1920 x 1080.00</div>
<div class="line">3840 x 2160.00</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md181"></a>
注意事项</h1>
<p>无</p>
<h1><a class="anchor" id="autotoc_md182"></a>
FAQ</h1>
<p>无 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
