<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>物联网操作系统AliOS Things 3.3: 任务管理</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygenextra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="topbanner"><a href="https://github.com/Tencent/rapidjson" title="RapidJSON GitHub"><i class="githublogo"></i></a></div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__aos__kernel__task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">任务管理<div class="ingroups"><a class="el" href="group__aos__kernel.html">内核</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:gac0164a71d93adbb58e769f2857e8a4c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gac0164a71d93adbb58e769f2857e8a4c1">AOS_TASK_NONE</a>&#160;&#160;&#160;0x0u</td></tr>
<tr class="separator:gac0164a71d93adbb58e769f2857e8a4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeebef629b6994eb1c60a815c3198921"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gaaeebef629b6994eb1c60a815c3198921">AOS_TASK_AUTORUN</a>&#160;&#160;&#160;0x01u</td></tr>
<tr class="separator:gaaeebef629b6994eb1c60a815c3198921"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:ga8331188bdef4856ea654e31c05a7827e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__aos__kernel__sysctrl.html#gaaae10a390dedaa1133c0377e8dc067f9">aos_hdl_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a></td></tr>
<tr class="separator:ga8331188bdef4856ea654e31c05a7827e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9415fd514422cdeac86959edb3fba60e"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a></td></tr>
<tr class="separator:ga9415fd514422cdeac86959edb3fba60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:ga2b0fcaee7038c1adc8e5940451b83b48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga2b0fcaee7038c1adc8e5940451b83b48">aos_task_create</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task, const char *name, void(*fn)(void *), void *arg, void *stack_buf, size_t stack_size, int32_t prio, uint32_t options)</td></tr>
<tr class="separator:ga2b0fcaee7038c1adc8e5940451b83b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b1409f3e64c0d6210dff7e6afc5fd95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga8b1409f3e64c0d6210dff7e6afc5fd95">aos_task_suspend</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task)</td></tr>
<tr class="separator:ga8b1409f3e64c0d6210dff7e6afc5fd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga004e7a0a8a9a884c1f3d947ddd0533f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga004e7a0a8a9a884c1f3d947ddd0533f5">aos_task_resume</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task)</td></tr>
<tr class="separator:ga004e7a0a8a9a884c1f3d947ddd0533f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21d781a42c01e538fe81a4013e28203d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga21d781a42c01e538fe81a4013e28203d">aos_task_exit</a> (int32_t code)</td></tr>
<tr class="separator:ga21d781a42c01e538fe81a4013e28203d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad34fb6b6834a655dba21cf468f2b5726"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gad34fb6b6834a655dba21cf468f2b5726">aos_task_delete</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task)</td></tr>
<tr class="separator:gad34fb6b6834a655dba21cf468f2b5726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae960413acb286b8f5589264993f53af6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gae960413acb286b8f5589264993f53af6">aos_task_yield</a> (void)</td></tr>
<tr class="separator:gae960413acb286b8f5589264993f53af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2e51387d827e5307690163f55f666ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gad2e51387d827e5307690163f55f666ba">aos_task_name_get</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task, char *buf, size_t buf_size)</td></tr>
<tr class="separator:gad2e51387d827e5307690163f55f666ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ca17551a172c9ade7c352e29d0e71f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga1ca17551a172c9ade7c352e29d0e71f6">aos_task_self</a> (void)</td></tr>
<tr class="separator:ga1ca17551a172c9ade7c352e29d0e71f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga742fbb2a7a7354030c54799bc3970fd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga742fbb2a7a7354030c54799bc3970fd2">aos_task_key_create</a> (<a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a> *key)</td></tr>
<tr class="separator:ga742fbb2a7a7354030c54799bc3970fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac93f559c867c74e62ecdaffbb0c5d38b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gac93f559c867c74e62ecdaffbb0c5d38b">aos_task_key_delete</a> (<a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a> key)</td></tr>
<tr class="separator:gac93f559c867c74e62ecdaffbb0c5d38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c7131c160a0507746188079d249ae0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga8c7131c160a0507746188079d249ae0f">aos_task_setspecific</a> (<a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a> key, void *vp)</td></tr>
<tr class="separator:ga8c7131c160a0507746188079d249ae0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d04253f30128f0f443b7b08646472e5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#ga3d04253f30128f0f443b7b08646472e5">aos_task_getspecific</a> (<a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a> key)</td></tr>
<tr class="separator:ga3d04253f30128f0f443b7b08646472e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa789483bcc3ae486f48148c85a74136c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gaa789483bcc3ae486f48148c85a74136c">aos_task_new</a> (const char *name, void(*fn)(void *), void *arg, size_t stack_size)</td></tr>
<tr class="separator:gaa789483bcc3ae486f48148c85a74136c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac41dcbbcd01a18a92890361b4999bf02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aos__kernel__task.html#gac41dcbbcd01a18a92890361b4999bf02">aos_task_new_ext</a> (<a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *task, const char *name, void(*fn)(void *), void *arg, size_t stack_size, int32_t prio)</td></tr>
<tr class="separator:gac41dcbbcd01a18a92890361b4999bf02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>提供AliOS Things系统内核任务管理功能的基础API. </p>
<h2 class="groupheader">宏定义说明</h2>
<a id="gaaeebef629b6994eb1c60a815c3198921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeebef629b6994eb1c60a815c3198921">&#9670;&nbsp;</a></span>AOS_TASK_AUTORUN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AOS_TASK_AUTORUN&#160;&#160;&#160;0x01u</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>表示任务创建后即可被调度执行，当调用aos_task_create()创建任务时，用来指定option参数 </p>

<p class="definition">在文件 <a class="el" href="kernel_8h_source.html">kernel.h</a> 第 <a class="el" href="kernel_8h_source.html#l00066">66</a> 行定义.</p>

</div>
</div>
<a id="gac0164a71d93adbb58e769f2857e8a4c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0164a71d93adbb58e769f2857e8a4c1">&#9670;&nbsp;</a></span>AOS_TASK_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AOS_TASK_NONE&#160;&#160;&#160;0x0u</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>表示不指定任意选项，当调用aos_task_create()创建任务时，用来指定option参数 </p>

<p class="definition">在文件 <a class="el" href="kernel_8h_source.html">kernel.h</a> 第 <a class="el" href="kernel_8h_source.html#l00065">65</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类型定义说明</h2>
<a id="ga9415fd514422cdeac86959edb3fba60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9415fd514422cdeac86959edb3fba60e">&#9670;&nbsp;</a></span>aos_task_key_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AOS任务私有数据对象具柄类型 </p>

<p class="definition">在文件 <a class="el" href="kernel_8h_source.html">kernel.h</a> 第 <a class="el" href="kernel_8h_source.html#l00158">158</a> 行定义.</p>

</div>
</div>
<a id="ga8331188bdef4856ea654e31c05a7827e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8331188bdef4856ea654e31c05a7827e">&#9670;&nbsp;</a></span>aos_task_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__aos__kernel__sysctrl.html#gaaae10a390dedaa1133c0377e8dc067f9">aos_hdl_t</a> <a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>AOS任务对象具柄类型 </p>

<p class="definition">在文件 <a class="el" href="kernel_8h_source.html">kernel.h</a> 第 <a class="el" href="kernel_8h_source.html#l00098">98</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="ga2b0fcaee7038c1adc8e5940451b83b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b0fcaee7038c1adc8e5940451b83b48">&#9670;&nbsp;</a></span>aos_task_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>stack_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>创建任务，该接口为创建任务分配TCB（任务控制块）并且根据指定的执行体、任务名称、栈大小来初始化对应成员. 该接口任务栈是由内核分配的。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务执行体入口函数为NULL，或任务名为NULL，或任务具柄为NULL，则返回错误码EINVAL <br  />
 如果栈大小为零，则返回错误 <br  />
 如果任务优先级超过配置上限或等于IDLE任务优先级，则返回错误码EINVAL <br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>任务对象具柄. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>任务名称.若任务名称为空，则使用默认任务名“default_name”。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fn</td><td>任务执行体入口函数。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>任务执行体入口函数的参数。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stack_buf</td><td>栈空间地址，如果地址为空则内核根据stack_size为任务分配栈空间. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stack_size</td><td>栈大小（字节为单位）。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>任务优先级，最大指由配置参数RHINO_CONFIG_USER_PRI_MAX(默认为60)决定. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>任务创建选项,当前支持选项：<br  />
 <a class="el" href="group__aos__kernel__task.html#gaaeebef629b6994eb1c60a815c3198921">AOS_TASK_AUTORUN</a> 任务创建后自动加入就绪队列，可被调度器调度执行. <br  />
 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>创建任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">ENOMEM</td><td>内存不足导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad34fb6b6834a655dba21cf468f2b5726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad34fb6b6834a655dba21cf468f2b5726">&#9670;&nbsp;</a></span>aos_task_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>删除任务，该接口删除一个任务并回收任务资源，不允许删除IDLE任务。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务具柄为NULL，则返回错误码EINVAL<br  />
 如果删除的任务为IDLE，则返回错误码EPERM <br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>任务对象具柄.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>恢复任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">EPERM</td><td>尝试删除IDLE任务导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga21d781a42c01e538fe81a4013e28203d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21d781a42c01e538fe81a4013e28203d">&#9670;&nbsp;</a></span>aos_task_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aos_task_exit </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>任务退出，该接口功能是任务删除自身，且IDLE任务不允许删除。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果挂起任务为IDLE，则直接返回 <br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>未使用.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>无 </dd></dl>

</div>
</div>
<a id="ga3d04253f30128f0f443b7b08646472e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d04253f30128f0f443b7b08646472e5">&#9670;&nbsp;</a></span>aos_task_getspecific()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* aos_task_getspecific </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the value currently bound to the specified key.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>NULL: get fail, otherwise: get succeed. </dd></dl>

</div>
</div>
<a id="ga742fbb2a7a7354030c54799bc3970fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga742fbb2a7a7354030c54799bc3970fd2">&#9670;&nbsp;</a></span>aos_task_key_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_key_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a> *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a task key.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">key</td><td>pointer of key object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0: success, -EINVAL: error. </dd></dl>

</div>
</div>
<a id="gac93f559c867c74e62ecdaffbb0c5d38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac93f559c867c74e62ecdaffbb0c5d38b">&#9670;&nbsp;</a></span>aos_task_key_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aos_task_key_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a task key.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>none. </dd></dl>

</div>
</div>
<a id="gad2e51387d827e5307690163f55f666ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2e51387d827e5307690163f55f666ba">&#9670;&nbsp;</a></span>aos_task_name_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_name_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取任务名称，该接口将指定任务的任务名称拷贝到用户缓冲区。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务具柄为NULL，则返回错误码EINVAL<br  />
如果用户缓冲区地址参数为NULL，则返回错误码EINVAL<br  />
如果用户缓冲区大小为0，则返回错误码EINVAL<br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>任务对象具柄 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>输出任务名的用户缓冲区地址 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_size</td><td>输出任务名的用户缓冲区大小 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>恢复任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa789483bcc3ae486f48148c85a74136c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa789483bcc3ae486f48148c85a74136c">&#9670;&nbsp;</a></span>aos_task_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stack_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a task. Deprecated, not Recommended.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>task name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fn</td><td>function to run. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>argument of the function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stacksize</td><td>stack-size in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0: success, otherwise: fail. </dd></dl>

</div>
</div>
<a id="gac41dcbbcd01a18a92890361b4999bf02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac41dcbbcd01a18a92890361b4999bf02">&#9670;&nbsp;</a></span>aos_task_new_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_new_ext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a task. Deprecated, not Recommended.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>task name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fn</td><td>task function. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>argument of the function.. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stack_size</td><td>stack-size in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>priority value, the max is RHINO_CONFIG_USER_PRI_MAX(default 60).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>0: success. </dd></dl>

</div>
</div>
<a id="ga004e7a0a8a9a884c1f3d947ddd0533f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga004e7a0a8a9a884c1f3d947ddd0533f5">&#9670;&nbsp;</a></span>aos_task_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>恢复任务，该接口将挂起任务恢复，取消暂时不执行状态。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务具柄为NULL，则返回错误码EINVAL<br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>任务对象具柄.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>恢复任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1ca17551a172c9ade7c352e29d0e71f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ca17551a172c9ade7c352e29d0e71f6">&#9670;&nbsp;</a></span>aos_task_self()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> aos_task_self </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>获取当前任务的任务对象具柄。</p>
<dl class="section user"><dt>使用约束</dt><dd>无。</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>无。</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">无。</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>任务对象具柄 </dd></dl>

</div>
</div>
<a id="ga8c7131c160a0507746188079d249ae0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c7131c160a0507746188079d249ae0f">&#9670;&nbsp;</a></span>aos_task_setspecific()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_setspecific </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga9415fd514422cdeac86959edb3fba60e">aos_task_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Associate a task-specific value with a key.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vp</td><td>pointer of a task-specific value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>the check status, 0: OK, -1: indicates key invalid. </dd></dl>

</div>
</div>
<a id="ga8b1409f3e64c0d6210dff7e6afc5fd95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b1409f3e64c0d6210dff7e6afc5fd95">&#9670;&nbsp;</a></span>aos_task_suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_suspend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__aos__kernel__task.html#ga8331188bdef4856ea654e31c05a7827e">aos_task_t</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>挂起任务，该接口将已创建的任务挂起，暂时不执行，挂起的对象既可以是任务自身也可以是其他任务，<br  />
但不允许挂起IDLE任务。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务具柄为NULL，则返回错误码EINVAL<br  />
如果挂起任务为IDLE，则返回错误码EPERM <br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task</td><td>任务对象具柄.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>挂起任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">EPERM</td><td>尝试挂起IDLE任务导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae960413acb286b8f5589264993f53af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae960413acb286b8f5589264993f53af6">&#9670;&nbsp;</a></span>aos_task_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__aos__kernel__sysctrl.html#ga606053245eba48c42b604cd6a5a6787e">aos_status_t</a> aos_task_yield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>当前任务让出CPU资源，该接口将当前任务唤出，放入就绪队列对尾，暂时放弃CPU的使用权。</p>
<dl class="section user"><dt>使用约束</dt><dd>该接口不能在中断上下文中调用</dd></dl>
<dl class="section user"><dt>错误处理</dt><dd>如果任务具柄为NULL，则返回错误码EINVAL<br  />
 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">无.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>状态码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>恢复任务成功 </td></tr>
    <tr><td class="paramname">EINVAL</td><td>输入非法参数导致失败 </td></tr>
    <tr><td class="paramname">-1</td><td>其他原因导致的失败 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
</body>
</html>
